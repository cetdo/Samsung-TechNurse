<html>
<title>Tech Nurse | Novo Usuário</title>



<body>

    <div id="container">
        <p href="https://imgur.com/3XVWGla"><img src="https://i.imgur.com/3XVWGla.png" title="source: imgur.com"
                style="width:110px;height:30px;" /></p>
        <label for="nome">Nome Completo:</label>
        <input id="nome" type="nome" required>
        <label for="email">Email: </label>
        <input id="email" type="email" required>
        <label for="senha">Senha:</label>
        <input id="senha" required type="password">
        <label for="csenha">Confirmar Senha:</label>
        <input id="csenha" type="password" required>
        <button id="confima" class="button" onclick="validarSenha()">Cadastrar</button>

        <div id="lower">

            <head>
                <style type="text/css">
                    html,

                    body {
                        width: 100%;
                        height: 100%;
                        font-family: 'Open Sans', sans-serif;
                        color: #444;
                        -webkit-font-smoothing: antialiased;
                        background: #f0f0f0;
                    }

                    form {
                        margin: 0 auto;
                        margin-top: 20px;
                    }

                    #container {
                        position: fixed;
                        width: 340px;
                        height: 450px;
                        top: 25%;
                        left: 50%;
                        margin-top: -140px;
                        margin-left: -170px;
                        background: #fff;
                        border-radius: 3px;
                        border: 1px solid #ccc;
                        box-shadow: 5px 10px 8px #888888;
                    }

                    label {
                        color: #555;
                        display: inline-block;
                        margin-left: 18px;
                        padding-top: 10px;
                        font-size: 14px;
                    }

                    styledimg {
                        background-image: url(path);
                        background-repeat: no-repeat;
                        width: 10px;
                        height: 20px;
                    }

                    p a {
                        font-size: 11px;
                        color: grey;
                        float: right;
                        margin-top: -13px;
                        margin-right: 20px;
                    }

                    p a:hover {
                        color: #555;
                    }



                    input {
                        font-family: 'Open Sans', sans-serif;
                        font-size: 12px;
                        outline: none;
                    }


                    input[type=email],
                    input[type=password],
                    input[type=nome] {
                        color: grey;
                        padding-left: 10px;
                        margin: 5px;
                        margin-top: 12px;
                        margin-left: 18px;
                        width: 290px;
                        height: 35px;
                        border: 1px solid #6CF3C1;
                        border-radius: 1px;
                        box-shadow: inset 0 1px 1px rgba(190, 190, 190, .4), 0 0 0 1px #6CF3C1;/
                    }

                    #lower {
                        background: white;
                        width: 100%;
                        height: 100px;
                        margin-top: 5px;
                        margin-bottom: 5px;
                    }


                    .button {
                        float: right;
                        position: relative;
                        margin-right: 20px;
                        margin-top: 50px;
                        width: 300px;
                        height: 30px;
                        background-color: #6CF3C1;
                        border: 1px solid #6CF3C1;
                        box-shadow: 0 1px 2px rgba(0, 0, 0, .3), inset 0 1px 0 rgba(255, 255, 255, .5);
                        cursor: pointer;
                        -webkit-transition-duration: 0.4s;
                        transition-duration: 0.4s;
                        cursor: pointer;

                    }

                    .button1 {
                        background-color: 6CF3C1;
                        color: black;
                        border: 2px solid #6CF3C1;
                    }

                    .button1:hover {
                        background-color: white;
                        color: black;
                    }

                    ul {
                        list-style: none;
                        padding: 0;
                        margin: 0;
                        font-size: 15px;
                        color: #555;
                    }

                    li {
                        padding-left: 16px;
                    }

                    li:before {
                        content: "•";
                        padding-right: 8px;
                        color: #6CF3C1;
                    }

                    p {
                        text-align: center;
                        color: #555
                    }

                    styledimg {
                        background-image: url(technurse-api-example-master\resources\views\imgs\logo.png);
                        background-repeat: no-repeat;
                        width: 10px;
                        height: 20px;
                    }
                </style>
            </head>
        </div>
    </div>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        nome = document.getElementById('nome').value
        em = document.getElementById('email').value

        function register() {
            axios({
                method: 'post',
                url: 'http://localhost:3333/api/auth/register',
                data: {
                    "email": document.getElementById('email').value,
                    "password": document.getElementById('senha').value
                }
            })
                .then(data => {
                    console.log(data)
                    window.location.href = 'http://localhost:3333/login'
                })
                .catch(erro => {
                    console.log(erro)
                })


        }

        function validarSenha() {
            senha = document.getElementById('senha').value
            senha2 = document.getElementById('csenha').value
            if (senha != senha2) { //se a senha bate com a confirmação
                alert('Senhas não batem!')
            } else {
                if (senha.length < 6) { // se a senha é menor que 6 caracteres
                    alert('Senha muito curta!')
                } else {
                    a = senha.toLowerCase()
                    if (a === senha) {
                        alert('A senha necessita de ao menos uma letra minuscula!')
                    } else {
                        register()

                    }
                }
            }
        }



    </script>
</body>

</html>